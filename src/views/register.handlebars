<main class="container">
	<div class="row">
		<div class="col">
			<h2>Register</h2>
			<form action="/register" method="post">
				<div class="mb-3">
					<label for="username" class="form-label">Name</label>
					<input type="text" class="form-control" id="username" name="username" />
				</div>
				<div class="mb-3">
					<label for="email" class="form-label">Email</label>
					<input type="email" class="form-control" id="email" name="email" />
				</div>
				<div class="mb-3">
					<label for="password" class="form-label">Password</label>
					<input type="password" class="form-control" id="password" name="password" />
				</div>
				<button type="submit" class="btn btn-primary">Register</button>
			</form>
		</div>
		<div class="col"></div>
	</div>
</main>

<script>
	document.querySelector('form').addEventListener('submit', async (e) => { e.preventDefault();
	const username = document.querySelector('#username').value; const email =
	document.querySelector('#email').value; const password =
	document.querySelector('#password').value; const response = await fetch('/register', { method:
	'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ username, email,
	password }) }); // Redirect if response is redirected if (response.redirected && response.url) {
	window.location = response.url; return; } // Display message const data = await response.json();
	alert(data.message); return; });
</script>